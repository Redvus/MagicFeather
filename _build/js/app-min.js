class About{aboutAuthors(e,a,t,n,r,i){const o=document.createElement("div"),c=document.createElement("div"),s=document.createElement("div");o.className="container__wrapper container__wrapper_about",c.className="container__title container__title_category",s.className="wrapper__top",container.className="container container--wide",s.innerHTML='\n            <picture id="authorsTitle" class="wrapper__top_title">\n                <img src="assets/games/kraevedia/images/kraevedia_titleAuthors.png" alt="Краеведия. Об авторах">\n            </picture>\n        ',o.innerHTML=`\n            <div class="container__about container__about_back">\n                <div class="container__about_person">\n                    <h4>${e}</h4>\n                    <p>${a}</p>\n                </div>\n                <div class="container__about_person">\n                    <h4>${t}</h4>\n                    <p class="container__about_person--gone">${n}</p>\n                </div>\n                <div class="container__about_person">\n                    <h4>${r}</h4>\n                    <p>${i}</p>\n                </div>\n            </div>\n        `,wrapper.appendChild(s),container.appendChild(o);const l=document.createElement("div");l.className="wrapper__service",wrapper.appendChild(l);let _=document.querySelector(".wrapper__top"),d=document.querySelectorAll(".container__about_person"),p=(document.querySelector(".wrapper__back_about"),document.querySelector(".container__about"));(new gsap.timeline).from(l,{autoAlpha:0,duration:.4,scale:.98}).to(_,{autoAlpha:1,duration:.4,delay:"-0.2"}).from(p,{autoAlpha:0,duration:.4,delay:"-0.3"}).from(d,{autoAlpha:0,duration:.4,delay:"-0.2",y:"-0.5rem",stagger:.07})}aboutLibrary(e,a,t){const n=document.createElement("div"),r=document.createElement("div"),i=document.createElement("div");n.className="container__wrapper container__wrapper_about",r.className="container__title container__title_category",i.className="wrapper__top",container.className="container container--wide",i.innerHTML='\n            <picture id="aboutTitle" class="wrapper__top_title">\n                <img src="assets/games/kraevedia/images/kraevedia_titleAbout.png" alt="Краеведия. О библиотеке">\n            </picture>\n        ',n.innerHTML=`\n            <div class="container__about container__about_text">\n                <div class="container__about_left">\n                    <p>${a}</p>\n                </div>\n                <div class="container__about_right">\n                    <p>${t}</p>\n                </div>\n            </div>\n        `,wrapper.appendChild(i),container.appendChild(n);const o=document.createElement("div");o.className="wrapper__service",wrapper.appendChild(o);let c=document.querySelector(".wrapper__top"),s=document.querySelectorAll(".container__about_left"),l=document.querySelectorAll(".container__about_right"),_=document.querySelector(".wrapper__back_about");(new gsap.timeline).from(o,{autoAlpha:0,duration:.4,scale:.98}).from(_,{autoAlpha:0,duration:.4,delay:"-0.4"}).to(c,{autoAlpha:1,duration:.4,delay:"-0.2"}).from([s,l],{autoAlpha:0,duration:.4,delay:"-0.2",stagger:.07})}}class Sounds{stopSound(){(new Audio).pause()}rightAnswer(e){(e=new Audio(e)).oncanplaythrough=()=>{e.play()}}backgroundMusicLoad(e){const a=document.createElement("audio");a.id="backgroundMusicID",a.setAttribute("autoplay","autoplay"),a.volume=.3,a.innerHTML=`\n            <source src="${e}" />\n        `,wrapper.appendChild(a)}}class Intro{introStart(){const e=document.createElement("div"),a=document.createElement("div");e.className="wrapper__top",e.innerHTML='\n            <picture class="wrapper__top_title">\n                <img src="assets/games/magicFeather/images/mf_titleStart.png" alt="Название игры. Волшебное перо">\n            </picture>\n        ',a.className="wrapper__center",a.innerHTML='\n            <picture class="wrapper__center_image">\n                <img src="assets/games/magicFeather/images/mf_featherStart.png" alt="Волшебное перо">\n            </picture>\n        ',wrapper.removeChild(container),wrapper.appendChild(e),wrapper.appendChild(a);const t=document.createElement("div");t.className="wrapper__intro",wrapper.appendChild(t);const n=document.createElement("div");n.className="wrapper__bottom",n.innerHTML='\n            <ul class="wrapper__bottom_menu">\n                <li><a href="javascript:void(0);" id="clickAboutLibrary">О библиотеке</a></li>\n                <li><a href="javascript:void(0);" id="clickAboutAuthors">Авторы</a></li>\n                <li><a href="javascript:void(0);" id="clickLoadGame">Начать игру</a></li>\n            </ul>\n        ',wrapper.appendChild(n);const r=document.querySelector(".wrapper__top"),i=(document.querySelector(".wrapper__title"),document.querySelector(".wrapper__bottom")),o=document.querySelector(".wrapper__intro"),c=document.querySelector(".wrapper__center");gsap.timeline().to(o,{duration:.6,autoAlpha:1}).to(r,{duration:.4,delay:"-0.4",y:"2%",autoAlpha:1}).to(i,{duration:.4,delay:"-0.4",autoAlpha:1}).to(c,{duration:1,delay:"-0.4",y:"5%",autoAlpha:1})}dialogStart(){const e=document.createElement("picture"),a=document.createElement("picture");e.id="containerVovka",e.innerHTML='\n            <img src="assets/games/magicFeather/images/mf_vovka.png" alt="Диалог в библиотеке. Вовка">\n        ',a.id="containerNestor",a.innerHTML='\n            <img src="assets/games/magicFeather/images/mf_nestor.png" alt="Диалог в библиотеке. Нестор">\n        ',container.appendChild(e),container.appendChild(a);const t=document.createElement("div");t.className="wrapper__dialog",wrapper.appendChild(t);const n=document.getElementById("containerVovka"),r=document.getElementById("containerNestor"),i=document.querySelector(".wrapper__dialog");gsap.timeline().to(i,{duration:.6,autoAlpha:1}).to(r,{duration:.4,delay:"-0.4",autoAlpha:1}).to(n,{duration:.4,delay:"-0.2",x:"5%",autoAlpha:1})}}class ChoiceCategory{choiceCategory(e,a,t,n,r,i,o,c,s,l,_,d,p){const m=document.createElement("div"),u=document.createElement("div"),g=document.createElement("div"),y=document.createElement("div"),v=document.createElement("div");container.className="container container--wide",m.className="container__wrapper",g.className="container__wrapper_subcategory",u.className="container__title",y.className=`wrapper__${a}`,v.className="wrapper__top",v.innerHTML=`\n            <picture class="wrapper__top_title">\n                <img src="assets/games/kraevedia/images/kraevedia_title${t}.png" alt="Краеведия. ${e}">\n            </picture>\n        `,g.innerHTML=`\n            <a href="javascript:void(0);" class="category__element category__element_1" id="categorySub${t}_1">\n                <ul class="category__element_stars" id="categoryElementStars_1"></ul>\n                <picture class="category__element_image">\n                    <img src="assets/games/kraevedia/images/kraevedia_catBack.png" alt="Категория ${e}. Первый вопрос">\n                </picture>\n                <h3 class="category__element_title">${n}</h3>\n            </a>\n            <a href="javascript:void(0);" class="category__element category__element_2 category__element--hidden" id="categorySub${t}_2">\n                <ul class="category__element_stars" id="categoryElementStars_2"></ul>\n                <picture class="category__element_image">\n                    <img src="assets/games/kraevedia/images/kraevedia_catBack.png" alt="Категория ${e}. Второй вопрос">\n                </picture>\n                <h3 class="category__element_title">${r}</h3>\n            </a>\n            <a href="javascript:void(0);" class="category__element category__element_3 category__element--hidden" id="categorySub${t}_3">\n                <ul class="category__element_stars" id="categoryElementStars_3"></ul>\n                <picture class="category__element_image">\n                    <img src="assets/games/kraevedia/images/kraevedia_catBack.png" alt="Категория ${e}. Третий вопрос">\n                </picture>\n                <h3 class="category__element_title">${i}</h3>\n            </a>\n            <a href="javascript:void(0);" class="category__element category__element_4 category__element--hidden" id="categorySub${t}_4">\n                <ul class="category__element_stars" id="categoryElementStars_4"></ul>\n                <picture class="category__element_image">\n                    <img src="assets/games/kraevedia/images/kraevedia_catBack.png" alt="Категория ${e}. Четвертый вопрос">\n                </picture>\n                <h3 class="category__element_title">${o}</h3>\n            </a>\n            <a href="javascript:void(0);" class="category__element category__element_5 category__element--hidden" id="categorySub${t}_5">\n                <ul class="category__element_stars" id="categoryElementStars_5"></ul>\n                <picture class="category__element_image">\n                    <img src="assets/games/kraevedia/images/kraevedia_catBack.png" alt="Категория ${e}. Пятый вопрос">\n                </picture>\n                <h3 class="category__element_title">${c}</h3>\n            </a>\n            <a href="javascript:void(0);" class="category__element category__element_6 category__element--hidden" id="categorySub${t}_6">\n                <ul class="category__element_stars" id="categoryElementStars_6"></ul>\n                <picture class="category__element_image">\n                    <img src="assets/games/kraevedia/images/kraevedia_catBack.png" alt="Категория ${e}. Шестой вопрос">\n                </picture>\n                <h3 class="category__element_title">${s}</h3>\n            </a>\n            <a href="javascript:void(0);" class="category__element category__element_7 category__element--hidden" id="categorySub${t}_7">\n                <ul class="category__element_stars" id="categoryElementStars_7"></ul>\n                <picture class="category__element_image">\n                    <img src="assets/games/kraevedia/images/kraevedia_catBack.png" alt="Категория ${e}. Седьмой вопрос">\n                </picture>\n                <h3 class="category__element_title">${l}</h3>\n            </a>\n            <a href="javascript:void(0);" class="category__element category__element_8 category__element--hidden" id="categorySub${t}_8">\n                <ul class="category__element_stars" id="categoryElementStars_8"></ul>\n                <picture class="category__element_image">\n                    <img src="assets/games/kraevedia/images/kraevedia_catBack.png" alt="Категория ${e}. Восьмой вопрос">\n                </picture>\n                <h3 class="category__element_title">${_}</h3>\n            </a>\n            <a href="javascript:void(0);" class="category__element category__element_9 category__element--hidden" id="categorySub${t}_9">\n                <ul class="category__element_stars" id="categoryElementStars_9"></ul>\n                <picture class="category__element_image">\n                    <img src="assets/games/kraevedia/images/kraevedia_catBack.png" alt="Категория ${e}. Девятый вопрос">\n                </picture>\n                <h3 class="category__element_title">${d}</h3>\n            </a>\n            <a href="javascript:void(0);" class="category__element category__element_10 category__element--hidden" id="categorySub${t}_10">\n                <ul class="category__element_stars" id="categoryElementStars_10"></ul>\n                <picture class="category__element_image">\n                    <img src="assets/games/kraevedia/images/kraevedia_catBack.png" alt="Категория ${e}. Десятый вопрос">\n                </picture>\n                <h3 class="category__element_title">${p}</h3>\n            </a>\n        `,container.appendChild(m),wrapper.appendChild(v),m.appendChild(g),g.appendChild(u),function(){let e=gsap.timeline();const a=document.querySelector(".category__element_1"),t=document.querySelector(".category__element_2"),n=document.querySelector(".category__element_3"),r=document.querySelector(".category__element_4"),i=document.querySelector(".category__element_5"),o=document.querySelector(".category__element_6"),c=document.querySelector(".category__element_7"),s=document.querySelector(".category__element_8"),l=document.querySelector(".category__element_9"),_=document.querySelector(".category__element_10"),d=document.querySelector(".container__wrapper"),p=[a,t,n,r,i,o,c,s,l,_];e.from(d,{autoAlpha:0,duration:"0.6"}).to(v,{autoAlpha:1,duration:.4,delay:"-0.2"}).from(p,{autoAlpha:0,duration:"0.3",delay:"-0.6",stagger:.1})}()}}class Category{categoryMain(){const e=document.createElement("div"),a=document.createElement("div"),t="50";e.className="container__category",container.className="container container--wide",a.className="wrapper__top",a.innerHTML='\n            <picture id="authorsTitle" class="wrapper__top_title">\n                <img src="assets/games/kraevedia/images/kraevedia_catChoiceTitle.png" alt="Краеведия. Выбор уровня">\n            </picture>\n        ',e.innerHTML=`\n            <div class="category__main" id="categoryCitizen">\n                <div class="category__main_image">\n                    <div class="category__main_title">\n                        <h3>I<br />Житель</h3>\n                    </div>\n                    <div class="category__main_stars">\n                        <picture>\n                            <img src="assets/games/kraevedia/images/kraevedia_starFill.png" alt="Количество набранных очков">\n                        </picture>\n                        <div class="category__main_value">\n                            <span id="progressCitizenValue"></span>&nbsp;/&nbsp;${t}\n                        </div>\n                    </div>\n                </div>\n            </div>\n            \n            <div class="category__main" id="categoryChicherone">\n                <div class="category__main_image">\n                    <div class="category__main_title">\n                        <h3>II<br />Чичероне</h3>\n                        <p><i><sup>*</sup>&nbsp;Переводчик, показывающий иностранцам местные достопримечательности</i></p>\n                    </div>\n                    <div class="category__main_stars">\n                        <picture>\n                            <img src="assets/games/kraevedia/images/kraevedia_starFill.png" alt="Количество набранных очков">\n                        </picture>\n                        <div class="category__main_value">\n                            <span id="progressChicheroneValue"></span>&nbsp;/&nbsp;${t}\n                        </div>\n                    </div>\n                </div>\n            </div>\n            \n            <div class="category__main" id="categoryKraeved">\n                <div class="category__main_image">\n                    <div class="category__main_title">\n                        <h3>III<br />Краевед</h3>\n                    </div>\n                    <div class="category__main_stars">\n                        <picture>\n                            <img src="assets/games/kraevedia/images/kraevedia_starFill.png" alt="Количество набранных очков">\n                        </picture>\n                        <div class="category__main_value">\n                            <span id="progressKraevedValue"></span>&nbsp;/&nbsp;${t}\n                        </div>\n                    </div>\n                </div>\n            </div>\n        `,container.appendChild(e);const n=document.createElement("div");n.className="wrapper__service",wrapper.appendChild(n),wrapper.appendChild(a),function(){let e=gsap.timeline();const t=document.getElementById("categoryCitizen"),n=document.getElementById("categoryChicherone"),r=document.getElementById("categoryKraeved"),i=document.querySelector(".wrapper__service");e.from(i,{autoAlpha:0,duration:.6}).to(a,{autoAlpha:1,duration:.4,delay:"-0.2"}).from([t,n,r],{autoAlpha:0,duration:.6,delay:"-0.3",y:"-0.5rem",stagger:.2})}()}categoryProgress(e,a){let t=document.getElementById(e);null===localStorage.getItem(a)?(localStorage.setItem(a,JSON.stringify(0)),t.textContent=JSON.parse(localStorage.getItem(a))):t.textContent=JSON.parse(localStorage.getItem(a))}}class Question{questionBlock(e,a,t,n,r,i){wrapper.className+=" wrapper__game";const o=document.createElement("div"),c=document.createElement("div"),s=document.createElement("ul");o.className="container__wrapper container__wrapper_category",c.className="container__title container__title_category",s.className="wrapper__stars",o.innerHTML=`\n            <div class="question__block">\n                <div class="question__block_imageblock">\n                    <div class="question__block_image">\n                        <p>${t}</p>\n                        <img src="assets/games/kraevedia/images/kraevedia_catBack.png" alt="Изображение по вопросом">\n                    </div>\n                </div>\n                <ul class="question__block_list">\n                    <li id="answerVar_1"><a href="javascript:void(0);">${n}</a></li>\n                    <li id="answerVar_2"><a href="javascript:void(0);">${r}</a></li>\n                    <li id="answerVar_3"><a href="javascript:void(0);">${i}</a></li>\n                </ul>\n            </div>\n        `,container.appendChild(o);const l=[document.getElementById("answerVar_1"),document.getElementById("answerVar_2"),document.getElementById("answerVar_3")],_=["0","33%","66%"],d=(document.querySelectorAll(".question__block_list li"),_.sort((()=>Math.floor(Math.random()*_.length)))),p=document.querySelector(".question__block_imageblock");l.forEach(((e,a)=>{e.style.top=d[a]})),gsap.timeline().from(p,{autoAlpha:0,duration:.4,delay:.2}).from(l,{autoAlpha:0,duration:.4,stagger:.1,delay:"-0.2"})}questionImageBlock(e,a,t,n,r,i){wrapper.className+=" wrapper__game";const o=document.createElement("div"),c=document.createElement("div"),s=document.createElement("ul");o.className="container__wrapper container__wrapper_category",c.className="container__title container__title_category",s.className="wrapper__stars",c.innerHTML=`<h1>${e}</h1>`,o.innerHTML=`\n            <div class="question__block">\n                <div class="question__block_imageblock">\n                    <h4>${a}</h4>\n                    <div class="question__block_image-single">\n                        <img src="assets/games/cosmicpuzzles/images/${t}.png" alt="${t}">\n                    </div>\n                </div>\n                <ul class="question__block_list">\n                    <li id="answerVar_1"><a href="javascript:void(0);">${n}</a></li>\n                    <li id="answerVar_2"><a href="javascript:void(0);">${r}</a></li>\n                    <li id="answerVar_3"><a href="javascript:void(0);">${i}</a></li>\n                </ul>\n            </div>\n        `,container.appendChild(o),o.appendChild(c);const l=[document.getElementById("answerVar_1"),document.getElementById("answerVar_2"),document.getElementById("answerVar_3")],_=["0","33%","66%"],d=(document.querySelectorAll(".question__block_list li"),_.sort((()=>Math.floor(Math.random()*_.length))));l.forEach(((e,a)=>{e.style.top=d[a]})),gsap.timeline().from(".question__block_imageblock",{autoAlpha:0,duration:.4,delay:.2}).from(l,{autoAlpha:0,duration:.4,stagger:.1,delay:"-0.2"})}answerBlock(e,a){const t=document.querySelector(".question__block_list"),n=document.createElement("div"),r=document.createElement("div"),i=["Неправильно","В следующий раз повезет","Не отчаивайтесь","Не совсем так","К сожалению нет"],o=i[Math.floor(Math.random()*i.length)];n.innerHTML=`\n            <div class="question__block_text-inside" id="answerWright"><p>${a}</p></div>\n        `,r.innerHTML=`\n            <div class="question__block_text-inside" id="answerWrong"><p>${o}</p></div>\n        `;let c=[document.getElementById("answerVar_1"),document.getElementById("answerVar_2"),document.getElementById("answerVar_3")],s=document.querySelectorAll("ul.question__block_list > li"),l=document.querySelectorAll("ul.question__block_list > li > a");for(let a=0;a<c.length;a++)c[a]===c[e]?c[a].addEventListener("click",(()=>{s.forEach(((r,i)=>{if(i!==e)r.remove(),t.appendChild(n),n.className="question__block_text";else{let e=gsap.timeline(),t=document.getElementById("answerWright");l[a].className+="question__block_list--right",soundsLoad.rightAnswer("assets/games/kraevedia/sounds/cp_rightAnswer.ogg"),e.to(r,{top:0,duration:.3,delay:.1,ease:"back"}).from(t,{autoAlpha:0,duration:.2})}}))})):c[a]===c[0]?c[a].addEventListener("click",(()=>{s.forEach(((e,n)=>{if(0!==n)e.remove(),t.appendChild(r),r.className="question__block_text";else{let t=gsap.timeline(),n=document.getElementById("answerWrong");l[a].className+="question__block_list--wrong",t.to(e,{top:0,duration:.3,delay:.1,ease:"back"}).from(n,{autoAlpha:0,duration:.2})}}))})):c[a]===c[1]?c[a].addEventListener("click",(()=>{s.forEach(((e,n)=>{if(1!==n)e.remove(),t.appendChild(r),r.className="question__block_text";else{let t=gsap.timeline(),n=document.getElementById("answerWrong");l[a].className+="question__block_list--wrong",t.to(e,{top:0,duration:.3,delay:.1,ease:"back"}).from(n,{autoAlpha:0,duration:.2})}}))})):c[a]===c[2]&&c[a].addEventListener("click",(()=>{s.forEach(((e,n)=>{if(2!==n)e.remove(),t.appendChild(r),r.className="question__block_text";else{let t=gsap.timeline(),n=document.getElementById("answerWrong");l[a].className+="question__block_list--wrong",t.to(e,{top:0,duration:.3,delay:.1,ease:"back"}).from(n,{autoAlpha:0,duration:.2})}}))}))}}class ArrowsAll{arrowBack(){const e=document.createElement("a");e.className="wrapper__service_arrow",e.id="arrowBack",e.innerHTML='\n            <img src="assets/games/kraevedia/images/kraevedia_arrowBack.png" alt="Стрелка назад">\n        ',wrapper.appendChild(e)}clearStorage(){const e=document.createElement("a");e.className="wrapper__service_clear",e.id="settingsClick",e.innerHTML='\n            <img src="assets/games/kraevedia/images/kraevedia_settings.png" alt="Настройки">\n        ',wrapper.appendChild(e)}arrowNext(){const e=document.createElement("a");e.className="wrapper__service_next",e.id="answerNext",e.innerHTML='\n            <img src="assets/games/kraevedia/images/kraevedia_arrowNext.png" alt="Следующий вопрос">\n        ',wrapper.appendChild(e)}}class Settings{settingsBlock(){const e=document.createElement("div"),a=document.createElement("div");e.className="wrapper__lightbox",a.className="wrapper__lightbox_block",a.innerHTML='\n            <a href="javascript:void(0);" class="wrapper__lightbox_close" id="settingsCloseButton"></a>\n            <p id="settingsText">Весь игровой процесс будет сброшен и вы начнете игру с начала</p>\n            <a href="javascript:void(0);" class="wrapper__lightbox_button" id="clearProgressButton">Сбросить прогресс</a>\n            <a href="javascript:void(0);" class="wrapper__lightbox_button" id="turnOfSoundButton">Выключить музыку</a>\n        ',e.appendChild(a),wrapper.appendChild(e),function(){let e=gsap.timeline();const a=document.querySelector(".wrapper__lightbox"),t=document.querySelector(".wrapper__lightbox_block");e.from(a,{duration:.3,autoAlpha:0}).from(t,{duration:.3,delay:"-0.07",y:"-5%",autoAlpha:0})}()}}const container=document.querySelector(".container"),wrapper=document.querySelector(".wrapper"),soundsLoad=new Sounds;function introDev(){const e=new Intro;e.introStart();const a=document.getElementById("clickLoadGame"),t=document.getElementById("clickAboutAuthors"),n=document.getElementById("clickAboutLibrary"),r=document.querySelector(".wrapper__top"),i=(document.querySelector(".wrapper__title"),document.querySelector(".wrapper__bottom")),o=document.querySelector(".wrapper__center"),c=document.querySelector(".wrapper__intro");document.getElementById("backgroundMusicID"),new ChoiceCategory;a.addEventListener("click",(()=>{gsap.timeline({onComplete:()=>{wrapper.className="wrapper",wrapper.removeChild(r),wrapper.removeChild(o),wrapper.removeChild(i),wrapper.removeChild(c),wrapper.appendChild(container),e.dialogStart()}}).to(r,{duration:.4,autoAlpha:0,y:"-3%"}).to(o,{duration:.7,delay:-.5,autoAlpha:0,y:"-3%"}).to(i,{duration:.7,delay:-.5,autoAlpha:0,y:"5%"}).to(c,{duration:.7,delay:-.5,autoAlpha:0})})),t.addEventListener("click",(()=>{gsap.timeline({onComplete:()=>{wrapper.className="wrapper",wrapper.removeChild(r),wrapper.removeChild(i),wrapper.removeChild(c),wrapper.appendChild(container),authorsStart()}}).to(r,{duration:.4,autoAlpha:0,y:"-3%"}).to(i,{duration:.7,delay:-.5,autoAlpha:0,y:"5%"}).to(c,{duration:.7,delay:-.5,autoAlpha:0,scale:.98})})),n.addEventListener("click",(()=>{gsap.timeline({onComplete:()=>{wrapper.className="wrapper",wrapper.removeChild(r),wrapper.removeChild(i),wrapper.removeChild(c),wrapper.appendChild(container),aboutStart()}}).to(r,{duration:.4,autoAlpha:0,y:"-3%"}).to(i,{duration:.7,delay:-.5,autoAlpha:0,y:"5%"}).to(c,{duration:.7,delay:-.5,autoAlpha:0,scale:.98})}))}function dialogDev(){(new Intro).dialogStart()}function init(){introDev()}init();